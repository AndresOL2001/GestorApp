<div *ngIf="cargasGr" class="page__inner">
    <div class="page__container margen-left">
      <div class="page__title h3">Consultar Y Exportar</div>
      <div class="drafts card">

        <div *ngIf="mostrarCalendario" class="inputdate" style="font-size:10px;">
          <div class="areas">
           <label class="color-label-calendar">Rango de fechas del:  
             <input type="date" />
           </label>
          </div>
          <div>
           <label>al:   </label>
           <input type="date" />
          </div>
         </div>

        <div class="card__head2">

         

          <div class="wrapper1">
  
  
            <div>
              <div class="content">
                <div class="search1">
                  <i class="uil uil-search"></i>
                  <input spellcheck="false" type="text" placeholder="Search" />
                </div>
                <ul class="options"></ul>
              </div>
            </div>
  
            <div class="search">
              <div class="search__head">
                <button class="search__start">
                  <svg class="icon icon-search">
                    <use xlink:href="#icon-search"></use>
                  </svg>
                </button>
                <button class="search__direction">
                  <svg class="icon icon-arrow-left">
                    <use xlink:href="#icon-arrow-left"></use>
                  </svg>
                </button>
                <input #searchInput (keyup.enter)="buscar(searchInput.value)"class="search__input" type="text" placeholder="Buscar">
                <button class="search__close">
                  <svg class="icon icon-close-circle">
                    <use xlink:href="#icon-close-circle"></use>
                  </svg>
                </button>
              </div>
            </div>
            
            <div class="select1">
              <select (change)="cambioFiltroFecha($event.target.value)" [(ngModel)]="FiltroFecha" class="select-btn" name="Days">
                <option>Fecha</option>
                <option>Hoy</option>
                <option>Esta semana</option>
                <option>Este mes</option>
                <option>Este Año</option>
                <option>Personalizada</option>
              
              </select>
              
            </div>
  
            <div class="select2">
              <select (change)="cambioFiltroEstado($event.target.value)" [(ngModel)]="FiltroEstado" class="select-btn" name="Estatus">
                <option>Estado</option>
                <option>Creado</option>
                <option>Asignado</option>
                <option>Notificado</option>
                <option>Asignado</option>
                <option>Localizado</option>
                <option>Gestoria en Tramite</option>
                <option>Validacion Digital</option>
                <option>Documentos Entregados</option>
              </select>
            </div>
            
          </div>
          
        </div>

          <button (click)="exportarCargas(this.cargasGr)" class="button-stroke users__button boton-posicion">
            <img class="imgbtnprint" src="../../../assets/btnImportar.svg" />Exportar xlsx</button>

        <div class="table-container2">
          <div class="title-purple card__title">Listado de PT's</div>
          <table class="table-rwd2">
            <tr>
              <th></th>
              <th>#</th>
              <th>
                <div>Fecha de Asignacion
                  <i *ngIf="this.EstadoFecha == 'NORMAL'" (click)="ordenarFecha(head)" style="cursor:pointer;" class='bx bx-expand-vertical'></i>
                  <i *ngIf="this.EstadoFecha == 'ASCENDENTE'" (click)="ordenarFecha(head)" style="cursor:pointer;" class='bx bx-chevron-up'></i>
                  <i *ngIf="this.EstadoFecha == 'DESCENDENTE'" (click)="ordenarFecha(head)" style="cursor:pointer;" class='bx bx-chevron-down'></i>
    
                </div>
              </th>
              <th class="left" *ngFor="let head of pageHeaders">
                <div>{{head}}
                  <i *ngIf="this.EstadoActual == 'NORMAL'" (click)="ordenarAlfabeticamente(head)" style="cursor:pointer;" class='bx bx-expand-vertical'></i>
                  <i *ngIf="this.EstadoActual == 'ASCENDENTE'" (click)="ordenarAlfabeticamente(head)" style="cursor:pointer;" class='bx bx-chevron-up'></i>
                  <i *ngIf="this.EstadoActual == 'DESCENDENTE'" (click)="ordenarAlfabeticamente(head)" style="cursor:pointer;" class='bx bx-chevron-down'></i>
                </div>
            
            </tr>
            <tbody>
              <tr
                class="trmargin"
                *ngFor="
                  let carga of cargasGr
                    | paginate: { itemsPerPage: registrosPorPagina, currentPage: page };
                  let i = index
                "
              >
                <th>
                 
                </th>
                <td>{{ i + 1 }}</td>
                <td class="date">
                  {{ carga.fecha_asignacion | date: "yyyy-MM-dd" }}
                </td>
                <td class="left">{{ carga.siniestro }}</td>
                <td class="left">
                  <div class="field__wrap">
                    <h4 class="info__Estatus"  [ngStyle]="{'color': carga.color}" >{{carga.nombreestado}}</h4>
                  </div>
                </td>
                <td class="left">{{ carga.origen }}</td>
                <td class="left">{{ carga.niu }}</td>
                <td class="left">{{ carga.ov }}</td>
                <td class="left">{{ carga.personalizada }}</td>
                <td class="left">{{ carga.nombre }}</td>
                <td class="left">{{ carga.correo }}</td>
                <td class="left">{{ carga.telefono1 }}</td>
                <td class="left">{{ carga.telefono2 }}</td>
                <td class="left">{{ carga.marca }}</td>
                <td class="left">{{ carga.modelo }}</td>
                <td class="left">{{ carga["año"] }}</td>
                <td class="left">{{ carga.serie }}</td>
                <td class="left">{{ carga.observaciones }}</td>
                <td class="left">{{ carga.proveedor }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="footer-table">
            <span class="footer-text">Numero de registros activos: {{cargasGr.length}}</span>
            <div class="footer-text-right">
              <div class="footer-combobox">
            <span class="footer-text">Mostrar registros por pagina </span>
      
                <select [(ngModel)]="registrosPorPagina" class="select-btn-footer"  >
                  
                 <option *ngFor="let size of pageSizes" [value]="size" class="option-footer">
                  {{size}}
                </option>
                 
      
                 </select>
         
          </div>
            <pagination-controls  (pageChange)="page = $event"  responsive="true"   previousLabel="<"
              nextLabel=">"   maxSize =""></pagination-controls>
            </div>
          </div>
      </div>
    </div>
  </div>